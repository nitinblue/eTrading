general:
  execution_mode: "live"  # "mock", "paper", "live"

broker:
  data:  # Always live for market data
    client_secret: ${TASTYTRADE_CLIENT_SECRET_LIVE}
    refresh_token: ${TASTYTRADE_REFRESH_TOKEN_LIVE}
  paper:
    client_secret: ${TASTYTRADE_CLIENT_SECRET_PAPER}
    refresh_token: ${TASTYTRADE_REFRESH_TOKEN_PAPER}
  live:
    client_secret: ${TASTYTRADE_CLIENT_SECRET_LIVE}
    refresh_token: ${TASTYTRADE_REFRESH_TOKEN_LIVE}

risk:
  max_allocation_per_position: 0.05
  max_loss_per_trade: 0.002
  max_undefined_risk_allocation: 0.20
  reserved_margin_fraction: 0.20
  stop_loss_level: -0.1
  take_profit_level: 0.5
  max_strategy_concentration: 0.25
  greek_targets:
    delta_min: -0.10
    delta_max: 0.10

strategies:
  allocation_defined: 0.80
  allocation_undefined: 0.20
  orb_0dte:
      enabled: true
      underlying: "SPX"  # Or "SPY" for smaller size
      or_minutes: 30     # Opening range duration (30 or 60)
      breakout_candle_minutes: 5
      spread_width: 5    # Points between short/long strike
      min_credit: 1.50   # Minimum credit received
      max_risk_per_contract: 350
      quantity: 1 
      dry_run: true      # Set false for real trades
      profit_target_pct: 0.50  # Close at 50% profit
      stop_loss_multiplier: 2.0  # Close if loss = 2x credit
  
  wheel:
    enabled: true
    underlying: "MSFT"  # Spreadsheet input or list
    min_iv_rank: 40  # For entry
    max_dte: 45  # For options
    put_delta_target: -0.16  # OTM put for CSP
    call_delta_target: 0.16  # OTM call for CC
    min_premium: 1.50  # Min received for sell
    quantity: 1  # Contracts
    dry_run: true  # Set false for real trades
    state_file: "wheel_state.json"  # Persist state
    risk_allocation: 0.05  # % of capital per trade
    
  defined:
    iron_condor:
      name: "Iron Condor"
      description: "Sell OTM call spread + OTM put spread"
      min_iv_rank: 50
      max_dte: 60
      min_credit: 1.00
      max_risk_per_contract: 500
      min_liquidity: 1000000
      max_price: 500

    butterfly:
      name: "Butterfly"
      description: "Buy low strike, sell 2 middle, buy high strike"
      min_iv_rank: 40
      max_dte: 45
      wing_width: 10
      min_credit: 0.50
      min_liquidity: 500000

    credit_spread:
      name: "Bull Put / Bear Call Spread"
      description: "Vertical credit spread"
      min_iv_rank: 45
      max_dte: 45
      min_credit: 0.80
      min_liquidity: 800000

    calendar_spread:
      name: "Calendar Spread"
      description: "Sell near-term, buy far-term same strike"
      min_iv_rank: 30
      dte_short: 14
      dte_long: 45
      min_liquidity: 600000

    jade_lizard:
      name: "Jade Lizard"
      description: "Sell OTM put + OTM call spread (no upside risk)"
      min_iv_rank: 55
      max_dte: 45
      min_credit: 2.00

  undefined:
    short_strangle:
      name: "Short Strangle"
      description: "Sell OTM call + OTM put"
      min_iv_rank: 70
      max_dte: 60
      min_credit: 3.00
      min_liquidity: 2000000
      max_price: 300

    short_straddle:
      name: "Short Straddle"
      description: "Sell ATM call + put"
      min_iv_rank: 80
      max_dte: 30
      min_credit: 5.00
      min_liquidity: 3000000

    ratio_spread:
      name: "Ratio Spread"
      description: "Buy 1, sell 2 OTM (free or credit)"
      min_iv_rank: 60
      max_dte: 45
      min_credit: 0.00  # Can be free

sheets: 
  sheet_id: ${GOOGLE_SHEET_ID} 
  worksheet_name: "Options"            
  service_account_file: "service_account.json"  # Path to JSON key
